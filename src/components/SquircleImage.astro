---
const { src, alt = '', size, pad = 8, height, maxWidth, maxHeight, borderRadius, cornerRadius, borderColor, borderWidth = 2 } = Astro.props as {
    src: string;
    alt?: string;
    size?: number | string;
    pad?: number | string;
    height?: number | string;
    maxWidth?: number | string;
    maxHeight?: number | string;
    borderRadius?: string;
	cornerRadius?: number;
	borderColor?: string;
	borderWidth?: number | string;
};
if (!src) {
    throw new Error('SquircleImage requires a src');
}
const dim = typeof size === 'number' ? `${size}px` : size;
const padCss = typeof pad === 'number' ? `${pad}px` : (pad ?? '8px');
const bg = padCss === '0px' || padCss === '0' ? 'transparent' : '#fff';
const br = typeof cornerRadius === 'number' ? `${cornerRadius}px` : (borderRadius ?? '33% / 28%');
const mw = typeof maxWidth === 'number' ? `${maxWidth}px` : (maxWidth ?? '');
const mh = typeof maxHeight === 'number' ? `${maxHeight}px` : (maxHeight ?? '');
---
<figure style={`${dim ? `width:${dim};` : ''}display:inline-block;border-radius:${br};overflow:hidden;box-shadow:var(--shadow);border:${typeof borderWidth === 'number' ? `${borderWidth}px` : borderWidth} solid ${borderColor ?? 'color-mix(in oklab, var(--color-fg) 12%, transparent)'};background:${bg};padding:${padCss};box-sizing:border-box`}>
	<img src={src} alt={alt} style={`${mw ? `max-width:${mw};` : ''}${mh ? `max-height:${mh};` : ''}${height ? `height:${typeof height === 'number' ? `${height}px` : height};` : 'height:auto;'}display:block;width:auto;object-fit:contain;margin:0 auto`} />
</figure>


