---
import BaseLayout from '../layouts/BaseLayout.astro';
import PageHeader from '../components/PageHeader.astro';
import Card from '../components/Card.astro';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
---
<BaseLayout title="projects" description="selected projects">
	<PageHeader title="projects" />
	{projects.length === 0 && (
		<p class="muted">no projects added yet. add markdown files to <span class="preserve-case">src/content/projects</span>.</p>
	)}
	<div style="display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
		{projects.map(({ id, data }) => (
			<Card title={data.title} description={data.summary} href={data.links?.demo || data.links?.paper || data.links?.code} />
		))}
	</div>
</BaseLayout>


